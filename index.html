<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>üå∏ Nail Sakura Studio</title>
    <style>
        /* –ë–ê–ó–û–í–´–ï –°–¢–ò–õ–ò */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }
        
        body {
            font-family: 'Arial Rounded MT Bold', 'Arial', sans-serif;
            background: linear-gradient(135deg, #FFE4E9 0%, #FFB6C1 100%);
            min-height: 100vh;
            color: #5D1F31;
            overflow-x: hidden;
            padding: 20px;
            padding-bottom: 100px;
            transition: background 0.5s ease;
        }
        
        body.dark {
            background: linear-gradient(135deg, #5D1F31 0%, #2A2A2A 100%);
            color: #FFE4E9;
        }
        
        /* –ö–û–ù–¢–ï–ô–ù–ï–† */
        .container {
            max-width: 500px;
            margin: 0 auto;
        }
        
        /* –®–ê–ü–ö–ê */
        .header {
            text-align: center;
            margin-bottom: 30px;
            position: relative;
        }
        
        .logo {
            font-size: 32px;
            color: #D81B60;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .logo::before {
            content: 'üå∏';
            animation: float 3s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        /* –ü–†–ò–í–ï–¢–°–¢–í–ò–ï */
        .welcome {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 25px;
            padding: 25px;
            margin-bottom: 20px;
            text-align: center;
            box-shadow: 
                8px 8px 16px rgba(255, 182, 193, 0.2),
                -8px -8px 16px rgba(255, 255, 255, 0.8);
            border: 2px solid rgba(255, 182, 193, 0.1);
            transition: all 0.3s ease;
        }
        
        body.dark .welcome {
            background: rgba(45, 45, 45, 0.9);
            box-shadow: 
                8px 8px 16px rgba(0, 0, 0, 0.3),
                -8px -8px 16px rgba(139, 71, 93, 0.2);
        }
        
        .welcome h1 {
            font-size: 24px;
            margin-bottom: 10px;
            color: #D81B60;
        }
        
        body.dark .welcome h1 {
            color: #FFB6C1;
        }
        
        .user-avatar {
            width: 80px;
            height: 80px;
            background: linear-gradient(145deg, #FFB6C1, #FF8FA3);
            border-radius: 50%;
            margin: 0 auto 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 32px;
            color: white;
            box-shadow: 0 5px 15px rgba(216, 27, 96, 0.3);
            overflow: hidden;
        }
        
        .user-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 50%;
        }
        
        body.dark .user-avatar {
            background: linear-gradient(145deg, #8B475D, #5D1F31);
        }
        
        /* –ö–ù–û–ü–ö–ò-–®–ê–†–ò–ö–ò */
        .action-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 30px;
        }
        
        .action-btn {
            background: rgba(255, 255, 255, 0.9);
            border: none;
            border-radius: 25px;
            padding: 30px 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 
                8px 8px 16px rgba(255, 182, 193, 0.2),
                -8px -8px 16px rgba(255, 255, 255, 0.8);
            position: relative;
            overflow: hidden;
        }
        
        body.dark .action-btn {
            background: rgba(45, 45, 45, 0.9);
            box-shadow: 
                8px 8px 16px rgba(0, 0, 0, 0.3),
                -8px -8px 16px rgba(139, 71, 93, 0.2);
        }
        
        .action-btn:active {
            transform: scale(0.95);
            box-shadow: 
                inset 4px 4px 8px rgba(255, 182, 193, 0.2),
                inset -4px -4px 8px rgba(255, 255, 255, 0.8);
        }
        
        body.dark .action-btn:active {
            box-shadow: 
                inset 4px 4px 8px rgba(0, 0, 0, 0.3),
                inset -4px -4px 8px rgba(139, 71, 93, 0.2);
        }
        
        .action-icon {
            font-size: 32px;
            margin-bottom: 10px;
            transition: transform 0.3s ease;
        }
        
        .action-btn:active .action-icon {
            transform: scale(1.1);
        }
        
        .action-text {
            font-size: 16px;
            font-weight: bold;
            color: #5D1F31;
        }
        
        body.dark .action-text {
            color: #FFE4E9;
        }
        
        /* –≠–ö–†–ê–ù–´ */
        .screen {
            display: none;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 25px;
            padding: 25px;
            margin-top: 20px;
            box-shadow: 
                8px 8px 16px rgba(255, 182, 193, 0.2),
                -8px -8px 16px rgba(255, 255, 255, 0.8);
            animation: slideUp 0.3s ease;
            transition: all 0.3s ease;
        }
        
        body.dark .screen {
            background: rgba(45, 45, 45, 0.9);
            box-shadow: 
                8px 8px 16px rgba(0, 0, 0, 0.3),
                -8px -8px 16px rgba(139, 71, 93, 0.2);
        }
        
        .screen.active {
            display: block;
        }
        
        @keyframes slideUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .screen-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #FFE4E9;
        }
        
        body.dark .screen-header {
            border-bottom: 2px solid rgba(139, 71, 93, 0.3);
        }
        
        .back-btn {
            background: none;
            border: none;
            font-size: 24px;
            color: #D81B60;
            cursor: pointer;
            padding: 5px 10px;
        }
        
        body.dark .back-btn {
            color: #FFB6C1;
        }
        
        /* –£–°–õ–£–ì–ò */
        .service-item {
            display: flex;
            align-items: center;
            padding: 15px;
            margin: 10px 0;
            background: #f8f9fa;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            border-left: 4px solid #FFB6C1;
        }
        
        body.dark .service-item {
            background: rgba(255, 255, 255, 0.1);
            border-left: 4px solid #8B475D;
        }
        
        .service-item:active {
            background: #FFE4E9;
            transform: translateX(5px);
        }
        
        body.dark .service-item:active {
            background: rgba(255, 182, 193, 0.2);
        }
        
        .service-icon {
            font-size: 24px;
            margin-right: 15px;
            width: 50px;
            height: 50px;
            background: #FFB6C1;
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
        }
        
        body.dark .service-icon {
            background: #8B475D;
        }
        
        .service-info {
            flex: 1;
        }
        
        .service-info h3 {
            margin-bottom: 5px;
            color: #5D1F31;
        }
        
        body.dark .service-info h3 {
            color: #FFE4E9;
        }
        
        .service-info p {
            color: #8B475D;
            font-size: 14px;
        }
        
        body.dark .service-info p {
            color: #FFB6C1;
        }
        
        .service-price {
            font-size: 18px;
            font-weight: bold;
            color: #D81B60;
        }
        
        body.dark .service-price {
            color: #FF8FA3;
        }
        
        /* –§–û–†–ú–ê –ó–ê–ü–ò–°–ò */
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #5D1F31;
        }
        
        body.dark .form-group label {
            color: #FFE4E9;
        }
        
        .form-group select,
        .form-group input {
            width: 100%;
            padding: 15px;
            border: 2px solid #FFE4E9;
            border-radius: 15px;
            font-size: 16px;
            background: white;
            -webkit-appearance: none;
            appearance: none;
            color: #5D1F31;
        }
        
        body.dark .form-group select,
        body.dark .form-group input {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(139, 71, 93, 0.3);
            color: #FFE4E9;
        }
        
        /* –û–°–ù–û–í–ù–ê–Ø –ö–ù–û–ü–ö–ê */
        .primary-btn {
            background: linear-gradient(145deg, #FFB6C1, #FF8FA3);
            color: white;
            border: none;
            border-radius: 25px;
            padding: 18px 30px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            width: 100%;
            margin-top: 20px;
            box-shadow: 0 5px 15px rgba(216, 27, 96, 0.3);
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        body.dark .primary-btn {
            background: linear-gradient(145deg, #8B475D, #5D1F31);
        }
        
        .primary-btn:active {
            transform: scale(0.98);
            box-shadow: 0 2px 10px rgba(216, 27, 96, 0.3);
        }
        
        /* –ù–ò–ñ–ù–Ø–Ø –ù–ê–í–ò–ì–ê–¶–ò–Ø */
        .bottom-nav {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            width: 90%;
            max-width: 500px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 25px;
            display: flex;
            justify-content: space-around;
            padding: 15px;
            box-shadow: 
                0 -5px 20px rgba(255, 182, 193, 0.2),
                0 5px 20px rgba(255, 182, 193, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.3);
            z-index: 1000;
            transition: all 0.3s ease;
        }
        
        body.dark .bottom-nav {
            background: rgba(45, 45, 45, 0.95);
            box-shadow: 
                0 -5px 20px rgba(0, 0, 0, 0.3),
                0 5px 20px rgba(139, 71, 93, 0.1);
            border: 2px solid rgba(139, 71, 93, 0.3);
        }
        
        .nav-btn {
            background: none;
            border: none;
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            padding: 10px;
            border-radius: 15px;
            transition: all 0.3s ease;
            min-width: 60px;
        }
        
        .nav-btn.active {
            background: rgba(255, 182, 193, 0.1);
        }
        
        body.dark .nav-btn.active {
            background: rgba(139, 71, 93, 0.3);
        }
        
        .nav-btn:active {
            transform: scale(0.95);
        }
        
        .nav-icon {
            font-size: 22px;
            margin-bottom: 5px;
            color: #5D1F31;
        }
        
        .nav-btn.active .nav-icon {
            color: #D81B60;
        }
        
        body.dark .nav-icon {
            color: #FFB6C1;
        }
        
        body.dark .nav-btn.active .nav-icon {
            color: #FF8FA3;
        }
        
        .nav-label {
            font-size: 12px;
            font-weight: bold;
            color: #8B475D;
        }
        
        .nav-btn.active .nav-label {
            color: #D81B60;
        }
        
        body.dark .nav-label {
            color: #FFB6C1;
        }
        
        body.dark .nav-btn.active .nav-label {
            color: #FF8FA3;
        }
        
        /* –õ–ï–ü–ï–°–¢–ö–ò –°–ê–ö–£–†–´ */
        .sakura-petal {
            position: fixed;
            width: 20px;
            height: 20px;
            pointer-events: none;
            z-index: -1;
            font-size: 20px;
            opacity: 0.3;
            animation: fall linear infinite;
        }
        
        @keyframes fall {
            to { transform: translateY(100vh) rotate(360deg); }
        }
        
        /* –£–í–ï–î–û–ú–õ–ï–ù–ò–Ø */
        .notification {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: #81C784;
            color: white;
            padding: 15px 25px;
            border-radius: 15px;
            z-index: 10000;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
            animation: slideDown 0.3s ease;
            max-width: 90%;
            text-align: center;
            font-weight: bold;
        }
        
        .notification.error {
            background: #E57373;
        }
        
        /* –¢–ï–ú–ù–´–ô –ü–ï–†–ï–ö–õ–Æ–ß–ê–¢–ï–õ–¨ */
        .theme-toggle {
            position: absolute;
            top: 0;
            right: 20px;
            background: #FFB6C1;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            color: white;
            font-size: 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }
        
        body.dark .theme-toggle {
            background: #8B475D;
        }
        
        .theme-toggle:active {
            transform: scale(0.9);
        }
        
        /* –ê–î–ê–ü–¢–ò–í–ù–û–°–¢–¨ */
        @media (max-width: 480px) {
            body {
                padding: 15px;
                padding-bottom: 90px;
            }
            
            .action-grid {
                grid-template-columns: 1fr;
                gap: 10px;
            }
            
            .action-btn {
                padding: 25px 15px;
            }
            
            .bottom-nav {
                width: 95%;
                padding: 12px;
            }
        }
    </style>
</head>
<body>
    <!-- –õ–ï–ü–ï–°–¢–ö–ò –°–ê–ö–£–†–´ -->
    <div id="petals"></div>
    
    <div class="container">
        <!-- –®–ê–ü–ö–ê -->
        <div class="header">
            <div class="logo">Nail Sakura Studio</div>
            <button class="theme-toggle" id="themeToggle">üåô</button>
        </div>
        
        <!-- –≠–ö–†–ê–ù 1: –ì–õ–ê–í–ù–ê–Ø -->
        <div id="mainScreen" class="screen active">
            <div class="welcome">
                <div class="user-avatar" id="userAvatar">üëë</div>
                <h1 id="userName">–ü—Ä–∏–≤–µ—Ç!</h1>
                <p>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –º–∏—Ä –∞–Ω–∏–º–µ-–º–∞–Ω–∏–∫—é—Ä–∞</p>
            </div>
            
            <div class="action-grid">
                <button class="action-btn" onclick="showScreen('booking')">
                    <div class="action-icon">üíÖ</div>
                    <div class="action-text">–ó–∞–ø–∏—Å–∞—Ç—å—Å—è</div>
                </button>
                
                <button class="action-btn" onclick="showScreen('services')">
                    <div class="action-icon">‚ú®</div>
                    <div class="action-text">–£—Å–ª—É–≥–∏</div>
                </button>
                
                <button class="action-btn" onclick="showScreen('myBookings')">
                    <div class="action-icon">üìÖ</div>
                    <div class="action-text">–ú–æ–∏ –∑–∞–ø–∏—Å–∏</div>
                </button>
                
                <button class="action-btn" onclick="showScreen('profile')">
                    <div class="action-icon">üëë</div>
                    <div class="action-text">–ü—Ä–æ—Ñ–∏–ª—å</div>
                </button>
            </div>
            
            <button class="primary-btn" onclick="showScreen('booking')">
                üé® –ù–∞—á–∞—Ç—å –∑–∞–ø–∏—Å—å
            </button>
        </div>
        
        <!-- –≠–ö–†–ê–ù 2: –ó–ê–ü–ò–°–¨ -->
        <div id="bookingScreen" class="screen">
            <div class="screen-header">
                <button class="back-btn" onclick="showScreen('main')">‚Üê</button>
                <h2>üìù –ó–∞–ø–∏—Å—å</h2>
                <div style="width: 40px;"></div>
            </div>
            
            <div class="form-group">
                <label>–í—ã–±–µ—Ä–∏—Ç–µ —É—Å–ª—É–≥—É:</label>
                <select id="serviceSelect">
                    <option value="manicure">üíÖ –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –º–∞–Ω–∏–∫—é—Ä - 1500‚ÇΩ</option>
                    <option value="gel">‚ú® –ü–æ–∫—Ä—ã—Ç–∏–µ –≥–µ–ª—å-–ª–∞–∫–æ–º - 2000‚ÇΩ</option>
                    <option value="design">üé® –î–∏–∑–∞–π–Ω –Ω–æ–≥—Ç–µ–π - 1000‚ÇΩ</option>
                    <option value="spa">üíé SPA-—É—Ö–æ–¥ - 1800‚ÇΩ</option>
                </select>
            </div>
            
            <div class="form-group">
                <label>–î–∞—Ç–∞:</label>
                <input type="date" id="bookingDate">
            </div>
            
            <div class="form-group">
                <label>–í—Ä–µ–º—è:</label>
                <select id="bookingTime">
                    <option>10:00</option>
                    <option>11:00</option>
                    <option>12:00</option>
                    <option>13:00</option>
                    <option>14:00</option>
                    <option>15:00</option>
                    <option>16:00</option>
                    <option>17:00</option>
                    <option>18:00</option>
                </select>
            </div>
            
            <button class="primary-btn" onclick="submitBooking()">
                ‚úÖ –ó–∞–ø–∏—Å–∞—Ç—å—Å—è
            </button>
        </div>
        
        <!-- –≠–ö–†–ê–ù 3: –£–°–õ–£–ì–ò -->
        <div id="servicesScreen" class="screen">
            <div class="screen-header">
                <button class="back-btn" onclick="showScreen('main')">‚Üê</button>
                <h2>üíÖ –£—Å–ª—É–≥–∏</h2>
                <div style="width: 40px;"></div>
            </div>
            
            <div class="service-item" onclick="selectService('manicure')">
                <div class="service-icon">üíÖ</div>
                <div class="service-info">
                    <h3>–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –º–∞–Ω–∏–∫—é—Ä</h3>
                    <p>–û–±—Ä–∞–±–æ—Ç–∫–∞ + –ø–æ–∫—Ä—ã—Ç–∏–µ</p>
                </div>
                <div class="service-price">1500‚ÇΩ</div>
            </div>
            
            <div class="service-item" onclick="selectService('gel')">
                <div class="service-icon">‚ú®</div>
                <div class="service-info">
                    <h3>–ü–æ–∫—Ä—ã—Ç–∏–µ –≥–µ–ª—å-–ª–∞–∫–æ–º</h3>
                    <p>–î–æ–ª–≥–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ</p>
                </div>
                <div class="service-price">2000‚ÇΩ</div>
            </div>
            
            <div class="service-item" onclick="selectService('design')">
                <div class="service-icon">üé®</div>
                <div class="service-info">
                    <h3>–î–∏–∑–∞–π–Ω –Ω–æ–≥—Ç–µ–π</h3>
                    <p>–†–∏—Å—É–Ω–∫–∏, —Å—Ç—Ä–∞–∑—ã, –≥—Ä–∞–¥–∏–µ–Ω—Ç</p>
                </div>
                <div class="service-price">1000‚ÇΩ</div>
            </div>
            
            <div class="service-item" onclick="selectService('spa')">
                <div class="service-icon">üíé</div>
                <div class="service-info">
                    <h3>SPA-—É—Ö–æ–¥</h3>
                    <p>–£–≤–ª–∞–∂–Ω–µ–Ω–∏–µ –∏ –ø–∏—Ç–∞–Ω–∏–µ</p>
                </div>
                <div class="service-price">1800‚ÇΩ</div>
            </div>
        </div>
        
        <!-- –≠–ö–†–ê–ù 4: –ú–û–ò –ó–ê–ü–ò–°–ò -->
        <div id="myBookingsScreen" class="screen">
            <div class="screen-header">
                <button class="back-btn" onclick="showScreen('main')">‚Üê</button>
                <h2>üìÖ –ú–æ–∏ –∑–∞–ø–∏—Å–∏</h2>
                <div style="width: 40px;"></div>
            </div>
            
            <div style="text-align: center; padding: 40px 20px;">
                <div style="font-size: 48px; margin-bottom: 20px;">üìù</div>
                <h3>–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –∑–∞–ø–∏—Å–µ–π</h3>
                <p>–ó–∞–ø–∏—à–∏—Ç–µ—Å—å –Ω–∞ –ø–µ—Ä–≤—É—é –ø—Ä–æ—Ü–µ–¥—É—Ä—É!</p>
                <button class="primary-btn" onclick="showScreen('booking')" style="margin-top: 30px;">
                    üé® –ó–∞–ø–∏—Å–∞—Ç—å—Å—è
                </button>
            </div>
        </div>
        
        <!-- –≠–ö–†–ê–ù 5: –ü–†–û–§–ò–õ–¨ -->
        <div id="profileScreen" class="screen">
            <div class="screen-header">
                <button class="back-btn" onclick="showScreen('main')">‚Üê</button>
                <h2>üëë –ü—Ä–æ—Ñ–∏–ª—å</h2>
                <div style="width: 40px;"></div>
            </div>
            
            <div style="text-align: center; margin-bottom: 30px;">
                <div class="user-avatar" id="profileAvatar" style="width: 100px; height: 100px; font-size: 48px;">üëë</div>
                <h2 id="profileName" style="margin-top: 15px;">–ì–æ—Å—Ç—å</h2>
                <p id="profileLevel" style="color: #FFB6C1;">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å</p>
            </div>
            
            <div class="service-item" style="cursor: default; background: #FFE4E9;">
                <div class="service-icon">üìû</div>
                <div class="service-info">
                    <h3>Telegram ID</h3>
                    <p id="telegramId">–ù–µ–∏–∑–≤–µ—Å—Ç–µ–Ω</p>
                </div>
            </div>
            
            <div class="service-item" style="cursor: default; background: #FFE4E9;">
                <div class="service-icon">üë§</div>
                <div class="service-info">
                    <h3>–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</h3>
                    <p id="telegramUsername">–ù–µ —É–∫–∞–∑–∞–Ω</p>
                </div>
            </div>
        </div>
    </div>
    
    <!-- –ù–ò–ñ–ù–Ø–Ø –ù–ê–í–ò–ì–ê–¶–ò–Ø -->
    <nav class="bottom-nav">
        <button class="nav-btn active" data-tab="main" onclick="showScreen('main')">
            <div class="nav-icon">üè†</div>
            <div class="nav-label">–ì–ª–∞–≤–Ω–∞—è</div>
        </button>
        
        <button class="nav-btn" data-tab="booking" onclick="showScreen('booking')">
            <div class="nav-icon">üíÖ</div>
            <div class="nav-label">–ó–∞–ø–∏—Å—å</div>
        </button>
        
        <button class="nav-btn" data-tab="services" onclick="showScreen('services')">
            <div class="nav-icon">‚ú®</div>
            <div class="nav-label">–£—Å–ª—É–≥–∏</div>
        </button>
        
        <button class="nav-btn" data-tab="profile" onclick="showScreen('profile')">
            <div class="nav-icon">üë§</div>
            <div class="nav-label">–ü—Ä–æ—Ñ–∏–ª—å</div>
        </button>
    </nav>
    
    <script>
        // ======================
        // –ì–õ–û–ë–ê–õ–¨–ù–´–ï –ü–ï–†–ï–ú–ï–ù–ù–´–ï
        // ======================
        let currentScreen = 'main';
        let tgUser = null;
        
        // ======================
        // TELEGRAM –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø
        // ======================
        function initTelegramApp() {
            console.log('üåê –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram Mini App...');
            
            if (window.Telegram && Telegram.WebApp) {
                const tg = Telegram.WebApp;
                
                tg.expand();
                tg.setHeaderColor('#FFB6C1');
                tg.setBackgroundColor('#FFE4E9');
                tg.ready();
                
                const unsafeData = tg.initDataUnsafe;
                console.log('–î–∞–Ω–Ω—ã–µ –æ—Ç Telegram:', unsafeData);
                
                if (unsafeData && unsafeData.user) {
                    tgUser = unsafeData.user;
                    console.log('–î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:', tgUser);
                    updateUIWithUserData(tgUser);
                    
                    // –í–∫–ª—é—á–∞–µ–º –∫–Ω–æ–ø–∫—É "–ù–∞–∑–∞–¥" –≤ Telegram
                    if (tg.BackButton) {
                        tg.BackButton.show();
                        tg.BackButton.onClick(() => {
                            goBack();
                        });
                    }
                } else {
                    console.warn('–î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ –Ω–∞–π–¥–µ–Ω—ã');
                    useTestUserData();
                }
            } else {
                console.log('üíª –†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏');
                useTestUserData();
            }
        }
        
        // ======================
        // –û–ë–ù–û–í–õ–ï–ù–ò–ï –ò–ù–¢–ï–†–§–ï–ô–°–ê
        // ======================
        function updateUIWithUserData(user) {
            // –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
            const userNameElement = document.getElementById('userName');
            if (userNameElement && user.first_name) {
                const fullName = user.last_name ? `${user.first_name} ${user.last_name}` : user.first_name;
                userNameElement.textContent = `–ü—Ä–∏–≤–µ—Ç, ${fullName}!`;
            }
            
            // –ê–≤–∞—Ç–∞—Ä –Ω–∞ –≥–ª–∞–≤–Ω–æ–π
            const userAvatarElement = document.getElementById('userAvatar');
            if (userAvatarElement) {
                if (user.photo_url) {
                    userAvatarElement.innerHTML = `<img src="${user.photo_url}" alt="–ê–≤–∞—Ç–∞—Ä">`;
                } else {
                    const firstLetter = user.first_name ? user.first_name[0].toUpperCase() : 'üëë';
                    userAvatarElement.textContent = firstLetter;
                    userAvatarElement.style.fontSize = '32px';
                }
            }
            
            // –ü—Ä–æ—Ñ–∏–ª—å
            const profileNameElement = document.getElementById('profileName');
            const profileAvatarElement = document.getElementById('profileAvatar');
            const telegramIdElement = document.getElementById('telegramId');
            const telegramUsernameElement = document.getElementById('telegramUsername');
            
            if (profileNameElement && user.first_name) {
                profileNameElement.textContent = user.last_name ? 
                    `${user.first_name} ${user.last_name}` : user.first_name;
            }
            
            if (profileAvatarElement) {
                if (user.photo_url) {
                    profileAvatarElement.innerHTML = `<img src="${user.photo_url}" alt="–ê–≤–∞—Ç–∞—Ä –ø—Ä–æ—Ñ–∏–ª—è" style="width:100%;height:100%;border-radius:50%;">`;
                } else {
                    const firstLetter = user.first_name ? user.first_name[0].toUpperCase() : 'üëë';
                    profileAvatarElement.textContent = firstLetter;
                    profileAvatarElement.style.fontSize = '48px';
                }
            }
            
            if (telegramIdElement && user.id) {
                telegramIdElement.textContent = user.id;
            }
            
            if (telegramUsernameElement) {
                telegramUsernameElement.textContent = user.username ? `@${user.username}` : '–ù–µ —É–∫–∞–∑–∞–Ω';
            }
            
            const profileLevelElement = document.getElementById('profileLevel');
            if (profileLevelElement) {
                profileLevelElement.textContent = user.is_premium ? '‚≠ê Premium –∫–ª–∏–µ–Ω—Ç' : 'üéÄ Gold –∫–ª–∏–µ–Ω—Ç';
                profileLevelElement.style.color = user.is_premium ? '#FFD700' : '#FFB6C1';
            }
            
            showNotification(`–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, ${user.first_name || '–¥—Ä—É–≥'}! üéÄ`, 'success');
        }
        
        function useTestUserData() {
            tgUser = {
                id: 123456789,
                first_name: '–ê–Ω—è',
                last_name: '–ò–≤–∞–Ω–æ–≤–∞',
                username: 'anna_nails',
                language_code: 'ru',
                is_premium: true
            };
            
            console.log('–ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ:', tgUser);
            updateUIWithUserData(tgUser);
        }
        
        // ======================
        // –û–°–ù–û–í–ù–´–ï –§–£–ù–ö–¶–ò–ò
        // ======================
        function showScreen(screenName) {
            console.log('–ü–æ–∫–∞–∑—ã–≤–∞–µ–º —ç–∫—Ä–∞–Ω:', screenName);
            
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.remove('active');
            });
            
            document.getElementById(screenName + 'Screen').classList.add('active');
            currentScreen = screenName;
            updateBottomNav(screenName);
            createPetals(3);
        }
        
        function updateBottomNav(activeTab) {
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active');
                if (btn.dataset.tab === activeTab) {
                    btn.classList.add('active');
                }
            });
        }
        
        function selectService(service) {
            const services = {
                'manicure': 'üíÖ –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –º–∞–Ω–∏–∫—é—Ä - 1500‚ÇΩ',
                'gel': '‚ú® –ü–æ–∫—Ä—ã—Ç–∏–µ –≥–µ–ª—å-–ª–∞–∫–æ–º - 2000‚ÇΩ',
                'design': 'üé® –î–∏–∑–∞–π–Ω –Ω–æ–≥—Ç–µ–π - 1000‚ÇΩ',
                'spa': 'üíé SPA-—É—Ö–æ–¥ - 1800‚ÇΩ'
            };
            
            document.getElementById('serviceSelect').value = service;
            showScreen('booking');
            showNotification(`–í—ã –≤—ã–±—Ä–∞–ª–∏: ${services[service]}`);
        }
        
        function submitBooking() {
            const service = document.getElementById('serviceSelect').value;
            const date = document.getElementById('bookingDate').value;
            const time = document.getElementById('bookingTime').value;
            
            if (!date) {
                showNotification('–í—ã–±–µ—Ä–∏—Ç–µ –¥–∞—Ç—É!', 'error');
                return;
            }
            
            const userName = tgUser ? `${tgUser.first_name} ${tgUser.last_name || ''}`.trim() : '–ì–æ—Å—Ç—å';
            const userId = tgUser ? tgUser.id : null;
            
            const services = {
                'manicure': '–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –º–∞–Ω–∏–∫—é—Ä',
                'gel': '–ü–æ–∫—Ä—ã—Ç–∏–µ –≥–µ–ª—å-–ª–∞–∫–æ–º',
                'design': '–î–∏–∑–∞–π–Ω –Ω–æ–≥—Ç–µ–π',
                'spa': 'SPA-—É—Ö–æ–¥'
            };
            
            const successMessage = `üéâ –ó–∞–ø–∏—Å—å —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω–∞!
            
–ö–ª–∏–µ–Ω—Ç: ${userName}
–£—Å–ª—É–≥–∞: ${services[service]}
–î–∞—Ç–∞: ${date}
–í—Ä–µ–º—è: ${time}

–ú—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è.`;
            
            showNotification(successMessage);
            
            setTimeout(() => {
                showScreen('main');
            }, 3000);
        }
        
        function goBack() {
            if (currentScreen !== 'main') {
                showScreen('main');
            }
        }
        
        // ======================
        // –õ–ï–ü–ï–°–¢–ö–ò –°–ê–ö–£–†–´
        // ======================
        function createPetals(count) {
            const container = document.getElementById('petals');
            const emojis = ['üå∏', 'üíÆ', 'üèµÔ∏è'];
            
            for (let i = 0; i < count; i++) {
                const petal = document.createElement('div');
                petal.className = 'sakura-petal';
                petal.textContent = emojis[Math.floor(Math.random() * emojis.length)];
                petal.style.left = Math.random() * 100 + 'vw';
                petal.style.top = '-50px';
                petal.style.animationDuration = (Math.random() * 5 + 3) + 's';
                petal.style.animationDelay = Math.random() * 2 + 's';
                
                container.appendChild(petal);
                
                setTimeout(() => {
                    if (petal.parentNode) {
                        petal.remove();
                    }
                }, 8000);
            }
        }
        
        // ======================
        // –£–í–ï–î–û–ú–õ–ï–ù–ò–Ø
        // ======================
        function showNotification(message, type = 'success') {
            const notification = document.createElement('div');
            notification.className = `notification ${type === 'error' ? 'error' : ''}`;
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.animation = 'slideUp 0
